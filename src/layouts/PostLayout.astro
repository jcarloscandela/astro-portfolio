---
import type { CollectionEntry } from "astro:content";
import BaseLayout from "./BaseLayout.astro";
import { SiteConfig } from "../content/config";

interface Props {
  post: CollectionEntry<"posts">;
}

const { post } = Astro.props;
const { Content } = await post.render();

function formatDate(date: Date) {
  return date.toLocaleDateString("en-US", {
    year: "numeric",
    month: "long",
    day: "numeric",
  });
}
---

<BaseLayout title={post.data.title} description={post.data.description ?? SiteConfig.siteDescription}>
  <article class="container px-4 mx-auto py-8 max-w-3xl">
    <header class="mb-8">
      <h1 class="text-4xl font-bold tracking-tight mb-2">
        {post.data.title}
      </h1>
      <time class="text-muted-foreground" datetime={post.data.date.toISOString()}>
        {formatDate(post.data.date)}
      </time>
    </header>
    
    <div class="prose dark:prose-invert max-w-none">
      <Content />
    </div>
  </article>
</BaseLayout>
